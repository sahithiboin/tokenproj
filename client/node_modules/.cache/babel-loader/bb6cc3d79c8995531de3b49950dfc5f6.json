{"ast":null,"code":"var _jsxFileName = \"/Users/satheeshkumarb/tokenproj/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport MyToken from \"./contracts/MyToken.json\";\nimport MyTokenSale from \"./contracts/MyTokenSale.json\";\nimport kycContract from \"./contracts/KycContract.json\";\nimport getWeb3 from \"./getWeb3\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loaded: false\n    };\n\n    this.componentDidMount = async () => {\n      try {\n        this.web3 = await getWeb3();\n        this.accounts = await this.web3.eth.getAccounts();\n        this.networkId = await this.web3.eth.getChainId();\n        this.MyToken = new this.web3.eth.Contract(MyToken.abi, MyToken.networks[this.networkId] && MyToken.networks[this.networkId].address);\n        this.MyTokenSale = new this.web3.eth.Contract(MyTokenSale.abi, MyTokenSale.networks[this.networkId] && MyTokenSale.networks[this.networkId], address);\n        this.kycContract = new this.web3.eth.Contract(kycContract.abi, kycContract.networks[this.networkId] && kycContract.networks[this.networkId].address);\n        this.setState({\n          loaded: true\n        });\n      } catch (error) {\n        alert(`Failed to load web3, accounts or contract. Check console for details.`);\n        console.error(error);\n      }\n    };\n\n    this.handleInputChange = event => {\n      const target = event.target;\n      const value = target.type === \"checkbox\" ? target.checked : target.value;\n      const name = target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleKycSubmit = async () => {\n      const {\n        kycAddress\n      } = this.state;\n      await this.kycContract.methods.setKycCompleted(kycAddress).send({\n        from: this.accounts[0]\n      });\n      alert(\"Account \" + kycAddress + \" is now whitelisted\");\n    };\n  }\n\n  render() {\n    if (!this.state.loaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading Web3, accounts and contract...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Cappuccino Token for StarDucks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Enable your account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), \"Address to allow: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"kycAddress\",\n        value: this.state.kycAddress,\n        onChange: this.handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 35\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: this.handleKycSubmit,\n        children: \"Add Address to Whitelist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Component","MyToken","MyTokenSale","kycContract","getWeb3","App","state","loaded","componentDidMount","web3","accounts","eth","getAccounts","networkId","getChainId","Contract","abi","networks","address","setState","error","alert","console","handleInputChange","event","target","value","type","checked","name","handleKycSubmit","kycAddress","methods","setKycCompleted","send","from","render"],"sources":["/Users/satheeshkumarb/tokenproj/client/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport MyToken from \"./contracts/MyToken.json\";\nimport MyTokenSale from \"./contracts/MyTokenSale.json\"\nimport kycContract from \"./contracts/KycContract.json\";\nimport getWeb3 from \"./getWeb3\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n    state = { loaded: false };\n    componentDidMount = async () => {\n        try {\n            this.web3 = await getWeb3();\n            this.accounts = await this.web3.eth.getAccounts();\n            this.networkId = await this.web3.eth.getChainId();\n            \n            this.MyToken = new this.web3.eth.Contract(\n                MyToken.abi,\n                MyToken.networks[this.networkId] && MyToken.networks[this.networkId].address,\n            );\n            this.MyTokenSale = new this.web3.eth.Contract(\n                MyTokenSale.abi,\n                MyTokenSale.networks[this.networkId] && MyTokenSale.networks[this.networkId],address,\n            );\n            this.kycContract = new this.web3.eth.Contract(\n                kycContract.abi,\n                kycContract.networks[this.networkId] && kycContract.networks[this.networkId].address,\n            );\n            this.setState({ loaded:true });\n        } catch (error){\n            alert(\n                `Failed to load web3, accounts or contract. Check console for details.`,\n                );\n                console.error(error);\n        }\n    };\n\n    render() {\n        if (!this.state.loaded) {\n            return <div>Loading Web3, accounts and contract...</div>        \n        }\n        return (\n            <div className=\"App\">\n                <h1>Cappuccino Token for StarDucks</h1>\n                <h2>Enable your account</h2>\n                Address to allow: <input type=\"text\" name=\"kycAddress\" value={this.state.kycAddress} onChange = {this.handleInputChange} />\n                <button type=\"button\" onClick={this.handleKycSubmit}>Add Address to Whitelist</button>\n            </div>\n        );\n    }\n    handleInputChange = (event) => {\n        const target = event.target;\n        const value = target.type === \"checkbox\" ? target.checked : target.value;\n        const name = target.name;\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleKycSubmit = async () => {\n        const {kycAddress} = this.state;\n        await this.kycContract.methods.setKycCompleted(kycAddress).send({from: this.accounts[0]});\n        alert(\"Account \"+kycAddress+\" is now whitelisted\");\n    }\n}\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}